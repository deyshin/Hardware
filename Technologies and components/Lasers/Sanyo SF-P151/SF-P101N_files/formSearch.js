jQuery(function(){var timer;$("#likeInput").click(function(){$("#searchBar").css("display","block");$("#searchText").stop(true,true).animate({width:"255px"},"slow");$("#searchText").focus()});$("#searchText").blur(function(){clearTimeout(timer);timer=setTimeout(function(){$("#searchText").stop(true,true).animate({width:"130px"},"slow");$("#searchBar").css("display","none")},700)});var selectors={form:"#SearchForm",text:"#searchText"};var $form=jQuery(selectors.form);var $text=jQuery(selectors.text);var selectors2={form:"#searchInShowroom",text:"#keyWord"};var $showForm=jQuery(selectors2.form);var $showText=jQuery(selectors2.text);var noop=function(){};var errHandle=function(errMsg){alert(errMsg)};var rules={require:[{handle:function(v){return v!==""},errMsg:"Please input keyword(s).",ok:noop,err:errHandle}],enonly:[{handle:function(v){return/^[\x00-\x7F]*$/.test(v)},errMsg:"Please input the information in English only.",ok:noop,err:errHandle}]};if($form.length&&$text.length){$form.submit(function(e){var v=jQuery.trim($text.val());var ret=true;var type;var rule;var subRule;for(var key in rules){rule=rules[key];for(var i=0;i<rule.length;i++){subRule=rule[i];type=Object.prototype.toString.call(subRule.handle).match(/\w+/g)[1].toLowerCase();if(type==="function"){ret=subRule.handle.call($text[0],v)}else{if(type==="regexp"){subRule.handle.exec("");ret=subRule.handle.test(v)}}if(ret){subRule.ok.call($text[0])}else{subRule.err.call($text[0],subRule.errMsg);break}}if(!ret){break}}if(!ret){e.preventDefault()}})}if($showForm.length&&$showText.length){$showForm.submit(function(e){var v=jQuery.trim($showText.val());var ret=true;var type;var rule;var subRule;for(var key in rules){rule=rules[key];for(var i=0;i<rule.length;i++){subRule=rule[i];type=Object.prototype.toString.call(subRule.handle).match(/\w+/g)[1].toLowerCase();if(type==="function"){ret=subRule.handle.call($showText[0],v)}else{if(type==="regexp"){subRule.handle.exec("");ret=subRule.handle.test(v)}}if(ret){subRule.ok.call($showText[0])}else{subRule.err.call($showText[0],subRule.errMsg);break}}if(!ret){break}}if(!ret){e.preventDefault()}})}});